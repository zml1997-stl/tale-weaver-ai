<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tale Weaver | Interactive Story Generator</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üìö</text></svg>">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar -->
            <div class="col-md-3 sidebar">
                <h2>Tale Weaver</h2>
                <p>An interactive storytelling experience powered by AI</p>
                
                <div id="story-info" class="d-none">
                    <hr>
                    <h3>Your Adventure</h3>
                    <div id="story-details"></div>
                    
                    <div class="accordion mt-3" id="journeyAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseJourney">
                                    Your Journey So Far
                                </button>
                            </h2>
                            <div id="collapseJourney" class="accordion-collapse collapse" data-bs-parent="#journeyAccordion">
                                <div class="accordion-body" id="journey-choices"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <hr>
                <div class="accordion" id="tipsAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTips">
                                üìù Story Tips
                            </button>
                        </h2>
                        <div id="collapseTips" class="accordion-collapse collapse" data-bs-parent="#tipsAccordion">
                            <div class="accordion-body">
                                <ul>
                                    <li>Your choices influence the story direction</li>
                                    <li>Stories automatically save after each choice</li>
                                    <li>Aim for 7-10 choices for a complete story arc</li>
                                    <li>Each genre has different storytelling styles</li>
                                    <li>Character traits subtly influence story events</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="accordion mt-3" id="audioAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAudio">
                                üîä Audio Settings
                            </button>
                        </h2>
                        <div id="collapseAudio" class="accordion-collapse collapse" data-bs-parent="#audioAccordion">
                            <div class="accordion-body">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="" id="audioEnabled" checked>
                                    <label class="form-check-label" for="audioEnabled">
                                        Enable Text-to-Speech
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <hr>
                <h3>Credits</h3>
                <p>Created with HTML, CSS, and JavaScript</p>
                <p>¬© 2025 Tale Weaver</p>
            </div>
            
            <!-- Main Content -->
            <div class="col-md-9 main-content">
                <!-- Welcome Screen -->
                <div id="welcome-screen">
                    <h1 class="welcome-header">Tale Weaver</h1>
                    <h2 class="text-center">Interactive Story Generator</h2>
                    
                    <div class="story-text">
                        <p>Welcome to Tale Weaver, where your choices shape the story! Each decision you make will lead to new adventures and unexpected twists.</p>
                        
                        <h3>How to Play:</h3>
                        <ol>
                            <li>Select a genre and customize your character</li>
                            <li>Choose your starting scenario</li>
                            <li>Make decisions at key points to guide the narrative</li>
                            <li>Save your favorite stories to revisit later</li>
                        </ol>
                        
                        <p>Every journey is different, and the possibilities are endless!</p>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <button id="begin-journey" class="btn btn-primary w-100">Begin Your Journey</button>
                        </div>
                        <div class="col-md-6">
                            <button id="load-saved" class="btn btn-secondary w-100">Load Saved Story</button>
                        </div>
                    </div>
                    
                    <div id="saved-stories" class="mt-4 d-none">
                        <h3 class="section-header">Your Saved Adventures</h3>
                        <div id="saved-stories-list"></div>
                    </div>
                </div>
                
                <!-- Setup Screen -->
                <div id="setup-screen" class="d-none">
                    <h2 class="section-header">Create Your Adventure</h2>
                    <p>Select the type of story you want to experience:</p>
                    
                    <div class="row" id="genre-selection">
                        <!-- Genre options will be populated by JavaScript -->
                    </div>
                    
                    <div id="character-creation" class="mt-4 d-none">
                        <h3 class="section-header">Create Your Character</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="character-name" class="form-label">Name your protagonist:</label>
                                    <input type="text" class="form-control" id="character-name" placeholder="Enter a name...">
                                    <div class="form-text">Leave blank for a nameless protagonist</div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="mb-3">
                                    <label for="character-trait" class="form-label">Character's defining trait:</label>
                                    <select class="form-select" id="character-trait">
                                        <option value="Brave">Brave</option>
                                        <option value="Clever">Clever</option>
                                        <option value="Cautious">Cautious</option>
                                        <option value="Curious">Curious</option>
                                        <option value="Determined">Determined</option>
                                        <option value="Witty">Witty</option>
                                        <option value="Resourceful">Resourceful</option>
                                        <option value="Compassionate">Compassionate</option>
                                        <option value="Mysterious">Mysterious</option>
                                        <option value="Practical">Practical</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <button id="generate-starters" class="btn btn-primary">Generate Story Beginnings</button>
                    </div>
                    
                    <div id="story-starters" class="mt-4 d-none">
                        <h3 class="section-header">Choose your starting point:</h3>
                        <div id="starters-container"></div>
                    </div>
                </div>
                
                <!-- Story Screen -->
                <div id="story-screen" class="d-none">
                    <h2 id="story-header" class="section-header"></h2>
                    
                    <div id="story-progress" class="progress-indicator"></div>
                    
                    <div id="story-text" class="story-text"></div>
                    
                    <div id="audio-player" class="mt-3"></div>
                    
                    <div id="story-choices" class="mt-4">
                        <h3>What will you do next?</h3>
                        <div id="choices-container"></div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-4">
                            <button id="save-story" class="btn btn-primary w-100">Save Story</button>
                        </div>
                        <div class="col-md-4">
                            <button id="end-story" class="btn btn-warning w-100">End Story</button>
                        </div>
                        <div class="col-md-4">
                            <button id="new-story" class="btn btn-secondary w-100">New Story</button>
                        </div>
                    </div>
                </div>
                
                <!-- Ending Screen -->
                <div id="ending-screen" class="d-none">
                    <h2 class="section-header">Story Conclusion</h2>
                    
                    <div id="ending-stats" class="progress-indicator"></div>
                    
                    <div id="ending-audio" class="mt-3"></div>
                    
                    <div class="accordion mt-4" id="summaryAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSummary">
                                    Your Adventure Summary
                                </button>
                            </h2>
                            <div id="collapseSummary" class="accordion-collapse collapse show" data-bs-parent="#summaryAccordion">
                                <div class="accordion-body" id="story-summary"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="accordion mt-3" id="fullStoryAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFullStory">
                                    Read Your Complete Story
                                </button>
                            </h2>
                            <div id="collapseFullStory" class="accordion-collapse collapse show" data-bs-parent="#fullStoryAccordion">
                                <div class="accordion-body" id="full-story"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-6">
                            <button id="new-adventure" class="btn btn-primary w-100">Start New Adventure</button>
                        </div>
                        <div class="col-md-6">
                            <button id="view-saved-stories" class="btn btn-secondary w-100">Browse Saved Stories</button>
                        </div>
                    </div>
                    
                    <h3 class="section-header mt-4">Export Your Story</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <button id="copy-clipboard" class="btn btn-outline-primary w-100">Copy to Clipboard</button>
                        </div>
                        <div class="col-md-6">
                            <button id="download-text" class="btn btn-outline-secondary w-100">Download as Text File</button>
                        </div>
                    </div>
                </div>
                
                <!-- Loading Spinner -->
                <div id="loading-spinner" class="d-none text-center my-5">
                    <div class="spinner-border text-primary" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                    <p class="mt-2" id="loading-message">Generating story...</p>
                </div>
                
                <!-- Toast Notifications -->
                <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
                    <div id="toast-notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                        <div class="toast-header">
                            <strong class="me-auto" id="toast-title">Tale Weaver</strong>
                            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                        </div>
                        <div class="toast-body" id="toast-message"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>